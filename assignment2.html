<!DOCTYPE html> 
<html> 
    <head> 
        <meta charset="utf-8"> 
        <meta name="viewport" content="width=device-width, maximum-scale=1.0" />

        <title>Example Student's HCDE 439 Physical Computing Page!</title> 

        <link href="style.css" media="screen" rel="stylesheet" type="text/css" />

    </head> 
    <body> 

        <div class="header">
            <h1>Fade!</h1>
            <p>
                <img src="schematic2.jpg" width=400></a>
            </p>
            <p>
                A pushbutton is connected between power and ground, along with port and a 10kΩ resistor. <br>
                Two LEDs are connected between port and ground, along with two 220Ω resistor to protect from excessive current. <br>
                The pushbutton controls the status of two LEDs. <br>
                V = I * R <br>
                5V - 1.8V = 20mA * R <br>
                3.2V = 0.02A * R <br>
                R = 160Ω <br>
                Therefore, resistance cannot be smaller than 160Ω. 220Ω resistor works fine!
            </p>
            <p>
                <img src="circuit2.jpg" width=400></a>
            </p>
            <p>
                The circuit is from Pin 2, 13, 9, and 5V power to ground, with a pushbutton, LEDs, and resistors in between.
            </p>
            <p>
            <img src="https://media1.giphy.com/media/BWTYe9MgS6dCe0g3LO/giphy.gif?cid=790b7611c993e39e860873a2f2793cc0bad5ae1578255099&rid=giphy.gif&ct=g" width=400></a>
            </p>
            <p>
            A GIF showing the operation of the circuit!
            </p>
            <p>
                The code that makes this work:
            </p>
            <code>
                /* <br>
                Fade!<br>
                -- Press and hold the button to make the red LED blink, and increase the brightness of the green LED.<br>
                -- Release the button to stop the red LED from blinking, and decrease the brightness of the green LED.<br>
                */<br>

                const int buttonPin = 2; // Initialize the port of button<br>
                const int ledPin = 13; // Initialize the port of red LED<br>
                const int fadePin = 9; // Initialize the port of green LED<br>
                int brightness = 0; // Initialize the brightness<br>
                int fadeAmount = 5; // Set the amount of change in brightness<br>
                int buttonState = 0; // Initialize the state of button<br>

                void setup() {<br>
                  // Set three ports as output<br>
                  pinMode(ledPin, OUTPUT);<br>
                  pinMode(buttonPin, OUTPUT);<br>
                  pinMode(fadePin, OUTPUT);<br>
                }<br>

                void loop() {<br>
                  buttonState = digitalRead(buttonPin); // Read and record the state of the button<br>
                  if (buttonState == HIGH) {  // If the button is pressed<br>
                    for (int i = 1; i <= fadeAmount; i ++) { // repeat the following for "fadeAmount" times<br>
                        digitalWrite(ledPin, HIGH); // Red LED on<br>
                        delay(100); // delay for 0.1 seconds<br>
                        digitalWrite(ledPin, LOW); // Red LED off<br>
                        delay(100); // delay for 0.1 seconds<br>
                    }<br>
                    while (buttonState == HIGH) { // As long as the button is still pressed<br>
                      analogWrite(fadePin, brightness); // Light up the green LED to the current brightness<br>
                      brightness = brightness + fadeAmount; // Increase the brightness by the change amount<br>
                      delay(30); // delay for 0.03 seconds<br>
                      buttonState = digitalRead(buttonPin); // Update the state of the button<br>
                    }<br>
                  } else { // If the button is released<br>
                    digitalWrite(ledPin, LOW); // Red LED off<br>
                    while (brightness > 0) { // As long as the green LED is still lighted<br>
                      brightness = brightness - fadeAmount; // Decrease the brightness by the change amount<br>
                      analogWrite(fadePin, brightness); // Light up the green LED to the current brightness<br>
                      delay(30); // delay for 0.03 seconds<br>
                    }<br>
                  }<br>
                }<br>
            </code>
        </div>
        
    </body>
</html>
